---
export interface Props {
	status: "operational" | "degraded" | "partial" | "major" | "maintenance";
	label?: string;
}

const { status, label } = Astro.props;

const statusConfig = {
	operational: { color: "green", text: "Operational" },
	degraded: { color: "yellow", text: "Degraded Performance" },
	partial: { color: "orange", text: "Partial Outage" },
	major: { color: "red", text: "Major Outage" },
	maintenance: { color: "blue", text: "Under Maintenance" },
};

const config = statusConfig[status];
const displayText = label ?? config.text;
---

<span class={`status-badge status-${status}`} data-status={status}>
  <span class="status-dot"></span>
  <span class="status-text">{displayText}</span>
</span>

<style>
  .status-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 4px 12px;
    border-radius: 9999px;
    font-size: 14px;
    font-weight: 500;
  }

  .status-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
  }

  .status-operational {
    background-color: #dcfce7;
    color: #166534;
  }
  .status-operational .status-dot {
    background-color: #22c55e;
  }

  .status-degraded {
    background-color: #fef9c3;
    color: #854d0e;
  }
  .status-degraded .status-dot {
    background-color: #eab308;
  }

  .status-partial {
    background-color: #ffedd5;
    color: #9a3412;
  }
  .status-partial .status-dot {
    background-color: #f97316;
  }

  .status-major {
    background-color: #fee2e2;
    color: #991b1b;
  }
  .status-major .status-dot {
    background-color: #ef4444;
  }

  .status-maintenance {
    background-color: #dbeafe;
    color: #1e40af;
  }
  .status-maintenance .status-dot {
    background-color: #3b82f6;
  }
</style>
